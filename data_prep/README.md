This document describes the data downloading and pre-processing steps carried out for our project: GeoCLAP.

1. The SoundingEarth data as described in the paper: [Self-supervised Audiovisual Representation Learning for Remote Sensing Data](https://arxiv.org/abs/2108.00688) can be downloaded from https://zenodo.org/record/5600379. The downloded data will have high-resolution GoogleEarth imagery along with a `metadata.csv` containing details of the audio recording corresponding to the overhead imagery. Now to download raw audio data use the script `./get_raw_audio.sh` provided. 

    Try to make sure that all of the audio files are downloaded (for some files download fails and one might have to repeat download for the remaining audio files).
2. Once all data is downloaded a quick sanity check can be run using the script `./sanity` which will just try to read the audio files and save those as torch tensors `.pt`. Moreover, it also saves the id of the audio samples that failed to be read into a file: `corrupt_ids_final.csv`.
3. `clean_metadata.py`: This script performs simple pre-processing of the `description` column of `metadata.csv`. Moreover, it uses `geopy` to perform reverse geo-coding of the address from the given lattitude-longitude of the audio sample and adds that address along with the cleaned description of the audio. Finally, this script yields a file: `final_metadata_with_captions.csv` containing pre-processed captions along with all other metadata for audio samples in our data.
4. `data_split.py`: This script splits `final_metadata_with_captions.csv` into train/val/test with ratio $70:10:20$ yielding `csv` files: `train_df.csv`, `validate_df.csv`, `test_df.csv` with size $35554$, $5079$, and $10159$ respectively.
5. Apart from the high-resolution GoogleEarth overhead imagery provided in the SoundingEarth dataset, in order to scale the project of mapping soundscapes around the globe, we trained our models on sentinel imagery. Refer to [CVGlobal README](https://github.com/mvrl/geoclap/blob/main/data_prep/CVGlobal/README.md) for details.
